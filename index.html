<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine? üíù</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Fixed background with blur */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), 
                        url("bg.jpeg") no-repeat center center/cover;
            filter: blur(5px);
            z-index: -1;
        }

        /* Music Button - Top Right */
        .music-controls {
            position: fixed;
            top: 25px;
            right: 25px;
            z-index: 2000;
        }

        .music-btn {
            background: #ff4d6d !important;
            color: white !important;
            border: 2px solid #fff !important;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Secret Text - Bottom Right */
        .secret-answer {
            position: fixed;
            bottom: 15px;
            right: 15px;
            z-index: 1000;
        }

        .cute-btn.special {
            background: rgba(255, 255, 255, 0.05) !important; 
            color: rgba(255, 255, 255, 0.3) !important;
            font-size: 0.75rem;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.5s ease;
        }

        .cute-btn.special:hover {
            color: rgba(255, 255, 255, 1) !important;
            background: rgba(255, 255, 255, 0.2) !important;
        }

        .container {
            background: rgba(255, 255, 255, 0.15) !important; 
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            max-width: 85%;
            width: 400px;
            color: white;
            text-align: center;
        }

        .cute-btn {
            padding: 12px 25px;
            margin: 10px;
            border-radius: 15px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            /* Smooth transition for resizing */
            transition: all 0.3s ease-in-out;
        }
        #yesBtn { background: #ff4d6d; color: white; }
        
        /* Updated No button styles */
        #noBtn { 
            background: #6c757d; 
            color: white; 
        }
        
        .hidden { display: none !important; }
        
        .gif-placeholder {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px auto;
            display: block;
            border-radius: 10px;
        }
    </style>
</head>
<body>

    <div id="musicControls" class="music-controls">
        <button id="musicToggle" class="music-btn" onclick="toggleMusic()">üéµ Play Music</button>
        <audio id="bgMusic" loop>
            <source src="love_me_love_me.mp3" type="audio/mpeg">
        </audio>
    </div>

    <div class="container">
        <div id="questionArea">
            <img src="Cute.gif" class="gif-placeholder" alt="Cute Valentine">
            <h1 id="questionText">Devuuu, Will You Be My Valentine???</h1>
            
            <button class="cute-btn" id="yesBtn" onclick="nextStep()">Yes</button>
            <button class="cute-btn" id="noBtn" onclick="handleNoClick()">No</button>
        </div>

        <div id="celebration" class="hidden">
            <img src="Teddy.gif" class="gif-placeholder" alt="Dancing Teddy">
            <h2>YAYYY! üéâ</h2>
            <p>I love you so much, devu!</p>
        </div>
        
        </div>

    <div class="secret-answer">
        <button class="cute-btn special" onclick="secretLove()">I don't like you, I love you! ‚ù§Ô∏è</button>
    </div>

    <script>
        // Track states
        let yesClickCount = 0;
        let noClickCount = 0;
        
        // Initial size
        let yesBtnSize = 1;

        // Array of messages for the 'No' button
        const noMessages = [
            "No",
            "Are you sure?",
            "Are you really sure??",
            "Think again?",
            "Don't believe in second chances?",
            "Why are you being so cold?",
            "Maybe we can talk about it?",
            "I am not going to ask again!",
            "Ok now this is hurting my feelings!",
            "You are now just being mean!",
            "Please give me a chance!",
            "Ok, Let's just start over.."
        ];

        function toggleMusic() {
            const music = document.getElementById('bgMusic');
            const btn = document.getElementById('musicToggle');
            if (music.paused) {
                music.play();
                btn.innerHTML = "‚è∏ Pause Music";
            } else {
                music.pause();
                btn.innerHTML = "üéµ Play Music";
            }
        }

        // 1. Logic for clicking YES
        function nextStep() {
            yesClickCount++; 

            const questionText = document.getElementById('questionText');
            const yesBtn = document.getElementById('yesBtn');

            if (yesClickCount === 1) {
                questionText.innerText = "Are you 1000% sure??";
                yesBtn.innerText = "Yes, I AM!";
            } else if (yesClickCount >= 2) {
                celebrate();
            }
        }

        // 2. Logic for clicking NO - Changes text, grows Yes, keeps No size constant
        function handleNoClick() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            
            // 1. Change text on No button
            if (noClickCount < noMessages.length) {
                noBtn.innerText = noMessages[noClickCount];
                noClickCount++;
            }

            // 2. Make the yes button bigger (Scale up)
            yesBtnSize += 0.5; 
            yesBtn.style.transform = `scale(${yesBtnSize})`;
        }

        // 3. Final Celebration Logic
        function celebrate() {
            document.getElementById('questionArea').classList.add('hidden');
            document.getElementById('celebration').classList.remove('hidden');

            // --- CONFETTI ANIMATION ---
            var duration = 5 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 50 * (timeLeft / duration);
                // particles fall down from top
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        function secretLove() {
            alert("Devu, you found the secret! I love you more! ‚ù§Ô∏è");
        }
    </script>
</body>
</html>
